---
import site from '@data/site'
import { SEO } from 'astro-seo'
import Fonts from './Fonts.astro'
import Favicon from './Favicon.astro'

const pageSeo = Astro.props.seo
const defaultSeo = {
  charset: 'UTF-8',
  titleDefault: site.name,
  openGraph: {
    basic: {
      title: site.name,
      type: 'website',
      image: Astro.url.pathname + site.image,
    },
  },
}
const mergedSeo = {
  ...defaultSeo,
  ...pageSeo,
}
---

<script is:inline>
  window.dataLayer = window.dataLayer || []
  function gtag() {
    dataLayer.push(arguments)
  }
</script>
<!-- Google Tag Manager -->
<script is:inline>
  ;(function (w, d, s, l, i) {
    w[l] = w[l] || []
    w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' })
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : ''
    j.async = true
    j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl
    f.parentNode.insertBefore(j, f)
  })(window, document, 'script', 'dataLayer', 'GTM-NJKM2RT5')
</script>
<!-- End Google Tag Manager --><!-- <script
  is:inline
  defer
  data-domain="antislipprofiles.com"
  src="https://plausible.io/js/script.js"
></script> -->
<meta
  content="width=device-width, initial-scale=1, viewport-fit=cover"
  name="viewport"
/>
<meta
  name="generator"
  content={Astro.generator}
/>

<SEO {...mergedSeo} />
<Fonts />
<Favicon />
